library ieee;
use ieee.std_logic_1164.all;

entity adder8bit is
    port (
        a    : in  std_logic_vector(7 downto 0);
        b    : in  std_logic_vector(7 downto 0);
        cin  : in  std_logic;  
        s    : out std_logic_vector(7 downto 0);
        cout : out std_logic  
    );
end entity adder8bit;

architecture structural of adder8bit is
    component adder1bit
        port (
            a    : in  std_logic;
            b    : in  std_logic;
            cin  : in  std_logic;
            s    : out std_logic;
            cout : out std_logic
        );
    end component;

    signal c_i : std_logic_vector(8 downto 1); 
    
begin
    

    G0 : adder1bit port map (
        a    => a(0),
        b    => b(0),
        cin  => cin,      
        s    => s(0),
        cout => c_i(1)    
    );
    

    G_BIT : for i in 1 to 7 generate
        Gi : adder1bit port map (
            a    => a(i),
            b    => b(i),
            cin  => c_i(i), 
            s    => s(i),
            cout => c_i(i+1) 
        );
    end generate G_BIT;
    

    cout <= c_i(8);
    
end architecture structural;
